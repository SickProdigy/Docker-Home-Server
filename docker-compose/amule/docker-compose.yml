---
services:
  amule:
    image: ngosang/amule
    container_name: amule
    restart: unless-stopped
    environment:
      - PUID=1000
      - PGID=1006
      - TZ=America/New_York
      - GUI_PWD=ChangeMe123
      - WEBUI_PWD=ChangeMe123
      - MOD_AUTO_RESTART_ENABLED=true
      - MOD_AUTO_RESTART_CRON=0 6 * * *
      - MOD_AUTO_SHARE_ENABLED=true
      - MOD_AUTO_SHARE_DIRECTORIES=/incoming;/shared/books;/shared/music
      - MOD_FIX_KAD_GRAPH_ENABLED=true
      - MOD_FIX_KAD_BOOTSTRAP_ENABLED=true
    ports:
      - "4711:4711" # web ui
      - "4712:4712" # remote gui, webserver, cmd ...
      - "4662:4662" # ed2k tcp
      - "4665:4665/udp" # ed2k global search udp (tcp port +3)
      - "4672:4672/udp" # ed2k udp
    volumes:
      - /docker-containers/amule/config:/home/amule/.aMule
      - /unsorted/amule/downloaded:/incoming
      - /unsorted/amule/temp:/temp
      - /Books:/shared/books #Shared Books folder
      - /Music:/shared/music #Shared Music folder
      # - "/games:/Share/Games" #Shared Games folder
      # - "/Movies:/Share/Movies" #Shared Movies folder
      # - "/srv/samba/programs/Movies:/Share/Programs" #Shared Movies folder
      # - "/TvShows:/Share/TvShows" #Shared TvShows folder
      # - "/Videos:/Share/Videos" #Shared Videos folder
    stdin_open: true    # to attach to containers
    tty: true           # also used to attach to containers
#    network_mode: service:wireguard     # To run through vpn service container, in turn UI port must be forwarded inside vpn. No local access unless otherwise defined
    networks:           # Specify network for container
      - homelab
networks:    # specify the network 2x. In service, and in this tag area..
  homelab:
    name: homelab      # Networks can also be given a custom name
    external: true # This option causes compose to join the above network instead of making a _default one